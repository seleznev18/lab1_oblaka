# Лабораторная №1

## Задание
Настроить nginx по заданному тз:
* Должен работать по https c сертификатом
* Настроить принудительное перенаправление HTTP-запросов (порт 80) на HTTPS (порт 443) для обеспечения безопасного соединения.
* Использовать alias для создания псевдонимов путей к файлам или каталогам на сервере.
* Настроить виртуальные хосты для обслуживания нескольких доменных имен на одном сервере.

Ну поихали... 
# Установка nginx

Тыкаем всякие кнопочки и получаем такой "код": 'sudo apt install nginx', а еще мы это делаем в убунту через виртуал бокс.

![image](https://github.com/user-attachments/assets/733d22fe-1296-44ac-ac45-a6185e897f19)

Теперь у нас есть живой сервер, ура ура

# Создаем локальные сайтики

Назовем наши сайтики 'project1' и 'project2' - Креативно, не правда ли?

![image](https://github.com/user-attachments/assets/c2c36a12-5779-41cb-979b-753aa0e04a59)

Добавим туда файлики 'index.html'

![image](https://github.com/user-attachments/assets/dedb6c03-38c2-4cd1-b942-092020b7ee3d)

Так как нам сказали что можно написать хоть hello world, не будем особо думать и напишем именно это))

Поработаем с хостами, добавляем домены сайтов: прописываем `sudo nano /etc/hosts` и пишем туда айпишники 127.0.0.1

![image](id.jpg)

# Сертефикатики

Для последующей работы нам понадобятся самоподписные сертификатики, ну и как же их оформить? А вот так:

![image](https://github.com/user-attachments/assets/6b222c17-a146-4ec0-bfc9-dd8d98195347)


P.S. в этот момент гит решил не аплоудить мои скриншотики, надеюсь это пофикситься...

# Настройка конфигураций

Время выполнения 2-го пункта нашей лабки - https.
В файле конфигурации для каждого проекта пропишем такой блок, описывающий конфигурацию сервера для работы по HTTPS на 443 порту. После открываем блок, который будет работать уже с https, и продолжаем дальнейшую настройку в нем.  Прописываем пути к файлам ssl. Также сделаем главной страницей index.html.

```
server{
    listen 80;
    server_name project1.local;

    location / {
        return 301 https://$host$request_uri;
  }
} 

  server {
      listen 443 ssl;
      server_name project1.local;

      ssl_certificate /etc/ssl/certs/project1.local.crt;
      ssl_certificate_key /etc/ssl/private/project1.local.key;

      root /var/www/project1.local/html;
      index index.html;
}
```
Для local2 все аналогично

# Запуск сайтиков

Проверяем работу и запускаем сайтик

![image](https://github.com/user-attachments/assets/7eafb353-ffc6-4b1e-a1d4-86ed3be555a8)

Нам сказали что все "is ok", проверяем все в браузере

![image](https://github.com/user-attachments/assets/ff9e3456-9989-4ce4-905f-d9bafc055514)

Радуемся что сайтик жив
На этом мы с вами закончим... Сфигали?.. Продолжаем (отсылка на мем)
# Alias (игра такая есть)
Первоначальный запуск сайтиков прошел успешно, пора порабоать с alias.
Покажу пример, как мы сделали это для каталога project2. Внутри него мы создаем новую папку 'media', внутри которой создаем файл html.

![image](https://github.com/user-attachments/assets/85dfb4aa-4612-4749-8624-f36ac267723d)

Все запустилось, кайфуем:


На этом мы с вами закончим... Уже на самом деле.
Лабка была очень интересная, спасибо за внимание.
